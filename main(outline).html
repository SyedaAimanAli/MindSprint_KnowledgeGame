<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindSprint - Daily Knowledge Challenge</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@500;600;700;800&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Mono', monospace;
            background: #0a0a0a;
            min-height: 100vh;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .background-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 107, 53, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 107, 53, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
        }

        .game-container {
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
            animation: fadeInDown 0.8s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            font-family: 'Syne', sans-serif;
            font-size: 42px;
            font-weight: 800;
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #ff6b35 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
            letter-spacing: -2px;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tagline {
            font-size: 13px;
            color: #888;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .streak-indicator {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 107, 53, 0.1);
            border: 2px solid rgba(255, 107, 53, 0.3);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 15px;
            font-weight: 700;
            color: #ff6b35;
            margin-top: 12px;
        }

        .flame-icon {
            font-size: 20px;
            animation: flicker 2s ease-in-out infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        .card {
            background: linear-gradient(135deg, #141414 0%, #1a1a1a 100%);
            border-radius: 24px;
            padding: 40px 32px;
            box-shadow: 
                0 0 0 1px rgba(255, 255, 255, 0.05),
                0 20px 60px rgba(0, 0, 0, 0.6);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ff6b35, transparent);
            opacity: 0.7;
        }

        .card::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(255, 107, 53, 0.05) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        .section-title {
            font-family: 'Syne', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: #f0f0f0;
            margin-bottom: 24px;
            position: relative;
        }

        .topic-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .topic-card {
            background: linear-gradient(135deg, #1e1e1e 0%, #252525 100%);
            border: 2px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 24px 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .topic-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1) 0%, rgba(247, 147, 30, 0.1) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .topic-card:hover {
            border-color: rgba(255, 107, 53, 0.5);
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 8px 30px rgba(255, 107, 53, 0.2);
        }

        .topic-card:hover::before {
            opacity: 1;
        }

        .topic-card.selected {
            border-color: #ff6b35;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.15) 0%, rgba(247, 147, 30, 0.15) 100%);
            box-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
        }

        .topic-icon {
            font-size: 36px;
            margin-bottom: 12px;
            display: block;
            position: relative;
            z-index: 1;
        }

        .topic-name {
            font-family: 'Syne', sans-serif;
            font-size: 16px;
            font-weight: 600;
            color: #e0e0e0;
            position: relative;
            z-index: 1;
        }

        .question-number {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #888;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .question-text {
            font-family: 'Syne', sans-serif;
            font-size: 22px;
            line-height: 1.5;
            color: #f5f5f5;
            font-weight: 600;
            margin-bottom: 32px;
            position: relative;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .choice-button {
            background: linear-gradient(135deg, #1e1e1e 0%, #252525 100%);
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            padding: 20px 24px;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            text-align: left;
            overflow: hidden;
        }

        .choice-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .choice-button span {
            position: relative;
            z-index: 1;
        }

        .choice-button:hover {
            border-color: rgba(255, 107, 53, 0.6);
            box-shadow: 0 6px 25px rgba(255, 107, 53, 0.25);
            transform: translateX(4px);
        }

        .choice-button:active {
            transform: translateX(2px) scale(0.98);
        }

        .choice-button.selected {
            border-color: #ff6b35;
            box-shadow: 0 0 25px rgba(255, 107, 53, 0.4);
        }

        .choice-button.selected::before {
            opacity: 0.2;
        }

        .choice-button.correct {
            border-color: #4ade80;
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(22, 163, 74, 0.2) 100%);
            box-shadow: 0 0 25px rgba(74, 222, 128, 0.3);
        }

        .choice-button.incorrect {
            border-color: #f87171;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.2) 100%);
            box-shadow: 0 0 25px rgba(248, 113, 113, 0.3);
        }

        .choice-button:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .result-icon {
            font-size: 72px;
            margin-bottom: 20px;
            animation: scaleIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-align: center;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
            }
            to {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .result-title {
            font-family: 'Syne', sans-serif;
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 16px;
            text-align: center;
        }

        .result-title.success {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .result-title.failure {
            background: linear-gradient(135deg, #f87171 0%, #ef4444 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .explanation {
            font-size: 15px;
            line-height: 1.7;
            color: #b0b0b0;
            margin: 24px 0;
            padding: 24px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 16px;
            border-left: 4px solid #ff6b35;
            text-align: left;
        }

        .explanation strong {
            color: #f0f0f0;
            display: block;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin: 28px 0;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-family: 'Syne', sans-serif;
            font-size: 36px;
            font-weight: 800;
            color: #ff6b35;
            display: block;
        }

        .stat-label {
            font-size: 11px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 6px;
        }

        .button-primary {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            border: none;
            color: white;
            padding: 18px 36px;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 25px rgba(255, 107, 53, 0.4);
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .button-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 35px rgba(255, 107, 53, 0.5);
        }

        .button-primary:active {
            transform: translateY(0);
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
            margin-bottom: 24px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b35 0%, #f7931e 100%);
            width: 0%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 10px rgba(255, 107, 53, 0.6);
        }

        .hidden {
            display: none !important;
        }

        .topic-badge {
            display: inline-block;
            padding: 8px 16px;
            background: rgba(255, 107, 53, 0.15);
            border: 1px solid rgba(255, 107, 53, 0.3);
            border-radius: 20px;
            font-size: 12px;
            color: #ff6b35;
            margin-bottom: 20px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 36px;
            }

            .card {
                padding: 32px 24px;
            }

            .question-text {
                font-size: 20px;
            }

            .topic-grid {
                grid-template-columns: 1fr;
            }

            .stats {
                gap: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="background-grid"></div>
    
    <div class="game-container">
        <div class="header">
            <div class="logo">MindSprint</div>
            <div class="tagline">Daily Knowledge Challenge</div>
            <div class="streak-indicator">
                <span class="flame-icon">ðŸ”¥</span>
                <span id="streakText">Day 1</span>
            </div>
        </div>

        <!-- Topic Selection View -->
        <div id="topicView">
            <div class="card">
                <h2 class="section-title">Choose Your Challenge</h2>
                <div class="topic-grid">
                    <div class="topic-card" onclick="selectTopic('tech')">
                        <span class="topic-icon">ðŸ’»</span>
                        <div class="topic-name">Tech & AI</div>
                    </div>
                    <div class="topic-card" onclick="selectTopic('behavior')">
                        <span class="topic-icon">ðŸ§ </span>
                        <div class="topic-name">Human Behavior</div>
                    </div>
                    <div class="topic-card" onclick="selectTopic('career')">
                        <span class="topic-icon">ðŸ“ˆ</span>
                        <div class="topic-name">Career Growth</div>
                    </div>
                    <div class="topic-card" onclick="selectTopic('science')">
                        <span class="topic-icon">ðŸ”¬</span>
                        <div class="topic-name">Science</div>
                    </div>
                </div>
                <p style="text-align: center; color: #888; font-size: 13px; margin-top: 16px;">
                    Answer 3 questions daily to maintain your streak
                </p>
            </div>
        </div>

        <!-- Question View -->
        <div id="questionView" class="hidden">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="card">
                <div class="topic-badge" id="selectedTopicBadge"></div>
                <div class="question-number" id="questionNumber">Question 1 of 3</div>
                <div class="question-text" id="questionText">Loading question...</div>
                <div class="choices" id="choicesContainer"></div>
            </div>
        </div>

        <!-- Result View -->
        <div id="resultView" class="hidden">
            <div class="card">
                <div class="result-icon" id="resultIcon">ðŸŽ‰</div>
                <div class="result-title" id="resultTitle">Correct!</div>
                <div class="explanation" id="explanation">
                    <strong>Did you know?</strong>
                    The explanation will appear here...
                </div>
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-value" id="currentStreak">1</span>
                        <span class="stat-label">Streak</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="correctAnswers">0</span>
                        <span class="stat-label">Correct</span>
                    </div>
                </div>
                <button class="button-primary" id="nextButton">Next Question</button>
            </div>
        </div>
    </div>

    <script>
        // Question Database - Organized by topic
        const questionDatabase = {
            tech: [
                {
                    question: "Which machine learning technique mimics the human brain's neural network structure?",
                    choices: ["Decision Trees", "Deep Learning", "Linear Regression"],
                    correctIndex: 1,
                    explanation: "Deep Learning uses artificial neural networks with multiple layers (deep neural networks) that are inspired by the structure and function of the human brain, allowing machines to learn complex patterns."
                },
                {
                    question: "What does 'API' stand for in software development?",
                    choices: ["Application Programming Interface", "Advanced Programming Integration", "Automated Process Interface"],
                    correctIndex: 0,
                    explanation: "API (Application Programming Interface) is a set of protocols and tools that allows different software applications to communicate with each other, defining how requests and responses should be structured."
                },
                {
                    question: "Which AI concept allows models to improve their performance by learning from past mistakes?",
                    choices: ["Supervised Learning", "Reinforcement Learning", "Transfer Learning"],
                    correctIndex: 1,
                    explanation: "Reinforcement Learning is a type of machine learning where an agent learns to make decisions by performing actions and receiving rewards or penalties, continuously improving through trial and error."
                },
                {
                    question: "What is the primary purpose of blockchain technology?",
                    choices: ["Speed up transactions", "Create decentralized, tamper-proof records", "Reduce energy consumption"],
                    correctIndex: 1,
                    explanation: "Blockchain creates a decentralized, distributed ledger that records transactions across multiple computers, making it nearly impossible to alter past records without consensus, ensuring transparency and security."
                },
                {
                    question: "Which programming paradigm treats computation as the evaluation of mathematical functions?",
                    choices: ["Object-Oriented", "Functional Programming", "Procedural"],
                    correctIndex: 1,
                    explanation: "Functional Programming emphasizes pure functions, immutability, and avoiding side effects, treating computation as mathematical function evaluation. Languages like Haskell and features in JavaScript exemplify this approach."
                }
            ],
            behavior: [
                {
                    question: "What psychological principle explains why we're more likely to comply with larger requests after agreeing to smaller ones?",
                    choices: ["Anchoring Effect", "Foot-in-the-Door Technique", "Cognitive Dissonance"],
                    correctIndex: 1,
                    explanation: "The Foot-in-the-Door technique is a compliance strategy where getting someone to agree to a small request increases the likelihood they'll agree to a larger request later, as people want to appear consistent."
                },
                {
                    question: "Which cognitive bias causes us to seek information that confirms our existing beliefs?",
                    choices: ["Confirmation Bias", "Availability Heuristic", "Dunning-Kruger Effect"],
                    correctIndex: 0,
                    explanation: "Confirmation Bias is our tendency to search for, interpret, and recall information in a way that confirms our preexisting beliefs, while giving less consideration to alternative possibilities."
                },
                {
                    question: "What term describes our tendency to overestimate how much others notice our appearance and behavior?",
                    choices: ["Spotlight Effect", "Fundamental Attribution Error", "Social Proof"],
                    correctIndex: 0,
                    explanation: "The Spotlight Effect is the phenomenon where people overestimate how much others notice aspects of their appearance or behavior. In reality, people are typically more focused on themselves."
                },
                {
                    question: "Which neurotransmitter is primarily associated with reward, motivation, and pleasure?",
                    choices: ["Serotonin", "Dopamine", "Cortisol"],
                    correctIndex: 1,
                    explanation: "Dopamine plays a crucial role in reward-motivated behavior, pleasure, motivation, and reinforcement learning. It's released when we experience something rewarding or anticipate a reward."
                },
                {
                    question: "What psychological phenomenon causes groups to make riskier decisions than individuals would alone?",
                    choices: ["Groupthink", "Risky Shift", "Social Loafing"],
                    correctIndex: 1,
                    explanation: "Risky Shift (or Choice Shift) occurs when group discussions lead to more extreme decisions than individual members would make alone, often toward greater risk-taking due to shared responsibility."
                }
            ],
            career: [
                {
                    question: "What does the '80/20 rule' (Pareto Principle) suggest about productivity?",
                    choices: ["80% effort yields 20% results", "80% of results come from 20% of efforts", "Work 80 hours to succeed"],
                    correctIndex: 1,
                    explanation: "The Pareto Principle states that roughly 80% of outcomes come from 20% of causes. In career terms, focusing on the most impactful 20% of tasks can drive 80% of your results."
                },
                {
                    question: "Which skill is considered most valuable for career growth in the AI era?",
                    choices: ["Memorization", "Critical Thinking & Adaptability", "Speed typing"],
                    correctIndex: 1,
                    explanation: "As AI automates routine tasks, critical thinking, creativity, emotional intelligence, and adaptability become crucial differentiators. The ability to ask the right questions and adapt to change is invaluable."
                },
                {
                    question: "What does 'imposter syndrome' refer to in professional contexts?",
                    choices: ["Pretending to have skills you don't", "Feeling like a fraud despite achievements", "Copying others' work"],
                    correctIndex: 1,
                    explanation: "Imposter Syndrome is a psychological pattern where successful people doubt their abilities and fear being exposed as a 'fraud,' despite evidence of their competence and achievements."
                },
                {
                    question: "Which networking approach is most effective for career advancement?",
                    choices: ["Collecting as many contacts as possible", "Building genuine, mutually beneficial relationships", "Only networking with senior executives"],
                    correctIndex: 1,
                    explanation: "Quality over quantity matters in networking. Building authentic relationships based on mutual value, trust, and genuine interest creates a stronger professional network than superficial connections."
                },
                {
                    question: "What is the recommended frequency for updating your skills in a rapidly changing field?",
                    choices: ["Every 5 years", "Continuously throughout your career", "Only when changing jobs"],
                    correctIndex: 1,
                    explanation: "Continuous learning is essential in today's fast-paced world. Regularly updating skillsâ€”through courses, reading, projects, or experimentationâ€”keeps you relevant and competitive in your field."
                }
            ],
            science: [
                {
                    question: "What percentage of our DNA do we share with chimpanzees?",
                    choices: ["50%", "75%", "98-99%"],
                    correctIndex: 2,
                    explanation: "Humans share approximately 98-99% of their DNA with chimpanzees, making them our closest living relatives. This small genetic difference accounts for the significant behavioral and cognitive differences."
                },
                {
                    question: "Which force is responsible for keeping planets in orbit around the sun?",
                    choices: ["Electromagnetic Force", "Gravity", "Nuclear Force"],
                    correctIndex: 1,
                    explanation: "Gravity is the fundamental force that attracts objects with mass toward each other. The sun's massive gravitational pull keeps planets in their orbits, balancing with their orbital velocity."
                },
                {
                    question: "What is the speed of light in a vacuum?",
                    choices: ["300,000 km/s", "150,000 km/s", "500,000 km/s"],
                    correctIndex: 0,
                    explanation: "Light travels at approximately 299,792 kilometers per second (often rounded to 300,000 km/s) in a vacuum. This is the universal speed limitâ€”nothing can travel faster than light."
                },
                {
                    question: "Which element is essential for all known forms of life?",
                    choices: ["Silicon", "Carbon", "Nitrogen"],
                    correctIndex: 1,
                    explanation: "Carbon is the foundation of all known life because of its unique ability to form stable bonds with many elements, including itself, creating the complex molecules necessary for life."
                },
                {
                    question: "What phenomenon explains why the sky appears blue during the day?",
                    choices: ["Reflection from oceans", "Rayleigh Scattering", "Atmospheric heating"],
                    correctIndex: 1,
                    explanation: "Rayleigh Scattering causes shorter blue wavelengths of sunlight to scatter more than other colors as light passes through Earth's atmosphere, making the sky appear blue to our eyes."
                }
            ]
        };

        // Game State
        let currentTopic = null;
        let currentQuestionIndex = 0;
        let streak = 1;
        let correctCount = 0;
        let dailyQuestions = [];
        const QUESTIONS_PER_DAY = 3;

        // Load saved data
        function loadGameState() {
            const saved = localStorage.getItem('mindsprintState');
            if (saved) {
                const state = JSON.parse(saved);
                const today = new Date().toDateString();
                
                if (state.lastPlayed === today && state.completed) {
                    alert('ðŸŽ¯ You\'ve already completed today\'s challenge!\n\nCome back tomorrow for new questions.');
                    return false;
                }
                
                if (state.lastPlayed !== today) {
                    // New day - check if streak continues
                    const lastDate = new Date(state.lastPlayed);
                    const currentDate = new Date();
                    const diffDays = Math.floor((currentDate - lastDate) / (1000 * 60 * 60 * 24));
                    
                    if (diffDays === 1) {
                        streak = state.streak + 1;
                    } else if (diffDays > 1) {
                        streak = 1; // Streak broken
                    }
                } else {
                    streak = state.streak;
                }
                
                document.getElementById('streakText').textContent = `Day ${streak}`;
            }
            return true;
        }

        function saveGameState(completed = false) {
            const state = {
                streak: streak,
                lastPlayed: new Date().toDateString(),
                completed: completed
            };
            localStorage.setItem('mindsprintState', JSON.stringify(state));
        }

        function selectTopic(topic) {
            if (!loadGameState()) return;
            
            currentTopic = topic;
            currentQuestionIndex = 0;
            correctCount = 0;
            
            // Select 3 random questions from the chosen topic
            const allQuestions = questionDatabase[topic];
            dailyQuestions = [];
            const usedIndices = new Set();
            
            while (dailyQuestions.length < QUESTIONS_PER_DAY && dailyQuestions.length < allQuestions.length) {
                const randomIndex = Math.floor(Math.random() * allQuestions.length);
                if (!usedIndices.has(randomIndex)) {
                    usedIndices.add(randomIndex);
                    dailyQuestions.push(allQuestions[randomIndex]);
                }
            }
            
            // Update UI
            document.getElementById('topicView').classList.add('hidden');
            document.getElementById('questionView').classList.remove('hidden');
            
            const topicNames = {
                tech: 'Tech & AI',
                behavior: 'Human Behavior',
                career: 'Career Growth',
                science: 'Science'
            };
            document.getElementById('selectedTopicBadge').textContent = topicNames[topic];
            
            loadQuestion();
        }

        function updateProgress() {
            const progress = (currentQuestionIndex / QUESTIONS_PER_DAY) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function loadQuestion() {
            const question = dailyQuestions[currentQuestionIndex];
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1} of ${QUESTIONS_PER_DAY}`;
            document.getElementById('questionText').textContent = question.question;
            
            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';
            
            question.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-button';
                button.innerHTML = `<span>${choice}</span>`;
                button.onclick = () => selectChoice(index, button);
                choicesContainer.appendChild(button);
            });

            updateProgress();
        }

        function selectChoice(index, buttonElement) {
            const allButtons = document.querySelectorAll('.choice-button');
            allButtons.forEach(btn => btn.classList.remove('selected'));
            
            buttonElement.classList.add('selected');
            
            setTimeout(() => checkAnswer(index), 500);
        }

        function checkAnswer(selectedIndex) {
            const question = dailyQuestions[currentQuestionIndex];
            const isCorrect = selectedIndex === question.correctIndex;
            const allButtons = document.querySelectorAll('.choice-button');
            
            allButtons.forEach((btn, idx) => {
                btn.disabled = true;
                if (idx === question.correctIndex) {
                    btn.classList.add('correct');
                } else if (idx === selectedIndex && !isCorrect) {
                    btn.classList.add('incorrect');
                }
            });

            setTimeout(() => showResult(isCorrect), 1000);
        }

        function showResult(isCorrect) {
            document.getElementById('questionView').classList.add('hidden');
            document.getElementById('resultView').classList.remove('hidden');
            
            const resultIcon = document.getElementById('resultIcon');
            const resultTitle = document.getElementById('resultTitle');
            const explanation = document.getElementById('explanation');
            
            if (isCorrect) {
                correctCount++;
                resultIcon.textContent = 'ðŸŽ‰';
                resultTitle.textContent = 'Brilliant!';
                resultTitle.className = 'result-title success';
            } else {
                resultIcon.textContent = 'ðŸ’¡';
                resultTitle.textContent = 'Not Quite!';
                resultTitle.className = 'result-title failure';
            }
            
            const question = dailyQuestions[currentQuestionIndex];
            explanation.innerHTML = `<strong>Did you know?</strong>${question.explanation}`;
            
            document.getElementById('currentStreak').textContent = streak;
            document.getElementById('correctAnswers').textContent = `${correctCount}/${currentQuestionIndex + 1}`;
            
            const nextButton = document.getElementById('nextButton');
            if (currentQuestionIndex >= QUESTIONS_PER_DAY - 1) {
                nextButton.textContent = 'Complete Challenge';
                nextButton.onclick = completeChallenge;
            } else {
                nextButton.textContent = 'Next Question';
                nextButton.onclick = nextQuestion;
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            document.getElementById('questionView').classList.remove('hidden');
            document.getElementById('resultView').classList.add('hidden');
            loadQuestion();
        }

        function completeChallenge() {
            const percentage = Math.round((correctCount / QUESTIONS_PER_DAY) * 100);
            const emoji = percentage >= 100 ? 'ðŸ†' : percentage >= 66 ? 'ðŸŒŸ' : 'ðŸ’ª';
            
            saveGameState(true);
            
            alert(`${emoji} Challenge Complete!\n\nYou got ${correctCount} out of ${QUESTIONS_PER_DAY} correct (${percentage}%)\n\nStreak: ${streak} days ðŸ”¥\n\nCome back tomorrow for a new challenge!`);
            
            // Reset to topic selection
            currentTopic = null;
            currentQuestionIndex = 0;
            correctCount = 0;
            document.getElementById('resultView').classList.add('hidden');
            document.getElementById('topicView').classList.remove('hidden');
        }

        // Initialize
        if (loadGameState()) {
            // Game is ready to play
        }
    </script>
</body>
</html>
